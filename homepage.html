<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Homepage!</title>
  <link href="./style.css" rel="stylesheet">
</head>
<body>
  <img loading="lazy" onload="this.style.opacity = 1; this.style.filter = 'blur(0)'" id="random-image" alt="Randomly generated background image">
  <div>
    <div class="wrapper">
      <div class="input-wrapper">
        <input id="search" autocomplete="off" type="text" placeholder="What's on your mind?" onkeyup="refreshSearch()">
        <input type="checkbox" name="Private" id="todo-private">
      </div>
      <!-- #results is auto-populated from JS -->
      <ul id="search-results"></ul>
    </div>
  </div>
  <div>
    <!-- JS will populate #classes div with classes when Firestore connects -->
    <div id="classes">
      <div onclick="cycleClasses(0);" oncontextmenu="resetClasses(0); return false;">Western Civ.</div>
      <div onclick="cycleClasses(1);" oncontextmenu="resetClasses(1); return false;">Japanese 300</div>
      <div onclick="cycleClasses(2);" oncontextmenu="resetClasses(2); return false;">Physics</div>
      <div onclick="cycleClasses(3);" oncontextmenu="resetClasses(3); return false;">English</div>
      <div onclick="cycleClasses(4);" oncontextmenu="resetClasses(4); return false;">Ceramics</div>
      <div onclick="cycleClasses(5);" oncontextmenu="resetClasses(5); return false;">Precalc</div>
      <div onclick="cycleClasses(6);" oncontextmenu="resetClasses(6); return false;">.</div>
      <div onclick="cycleClasses(7);" oncontextmenu="resetClasses(7); return false;">Extracur.</div>
      <div onclick="cycleClasses(8);" oncontextmenu="resetClasses(8); return false;">Advisory</div>
      <div onclick="cycleClasses(9);" oncontextmenu="resetClasses(9); return false;">Sports</div>
      <img onclick="updateClasses()" id="classes-refresh" src="./assets/cloud.svg"
        alt="A blue cloud drawing with white arrows indicating refresh">
    </div>
    <div class="wrapper">
      <div class="input-wrapper">
        <input id="todo-input" autocomplete="off" type="text" placeholder="What should you do..." onkeyup="addToTodo(event)">
        <input type="checkbox" name="Important" id="todo-important">
        <img onclick="updateTodo()" src="./assets/cloud.svg" alt="A blue cloud drawing with white arrows indicating refresh">
      </div>
      <ul id="todo"></ul>
    </div>
  </div>
  <div>
    <div class="wrapper" id="times">
      <div>Class ends in X minutes, at ##:##</div>
      <div>Class starts in X minutes, at ##:##</div>
    </div>
  </div>
  <blockquote><i></i></blockquote>
  <script type="module" src="./main.js"></script>
  <script>
    // Inline script for fast stuff as soon as HTML loads
    let currentHour = new Date().getHours();
    let vibe = '';
    if (currentHour >= 4 && currentHour <= 9) {
      vibe = "sunrise";
    } else if (currentHour >= 10 && currentHour <= 15) {
      vibe = "day";
    } else if (currentHour >= 16 && currentHour <= 18) {
      vibe = "sunset";
    } else if (currentHour >= 19 || currentHour <= 3) {
      vibe = "night";
    }

    let element = document.createElement('img');

    document.getElementById('random-image').src = `https://wsrv.nl/?url=https://source.unsplash.com/random/${window.innerWidth}x${window.innerHeight}?${vibe}&max-age=1d&con=20&mod=0.7&random=${Math.floor(Math.random() * 6)}`;
  </script>
</body>
</html>